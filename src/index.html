<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#008000" />
    <title>My hello world page</title>
    <link rel="stylesheet" type="text/css" href="style.css" media="all" />
    <link rel="manifest" href="manifest.json" />
  </head>
  <body>
    <h1 class="vertical-container">Welcome to Duy Tran's PWA Demo</h1>
    <div id="wrap">
      <div id="body">
        <div class="game_area">
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div class="block"></div>
          <div id="line0" class="line"></div>
          <div id="line1" class="line"></div>
          <div id="line4" class="line"></div>
          <div id="line2" class="line"></div>
          <div id="line3" class="line"></div>
          <div id="line5" class="line"></div>
        </div>
      </div>
      <div id="start_screen">
        <div id="select_box">
          <div id="selectO">
            <div class="o"></div>
          </div>
          <div id="selectX">
            <div class="x"></div>
          </div>
          <div class="info_bubble" id="info_1">first</div>
          <div class="info_bubble" id="info_2">choose one</div>
        </div>
      </div>
      <div id="end_screen">
        <div id="end_box">
          <div id="end_info"></div>
          <div class="circle"></div>
          <div class="info_bubble" id="btn_restart">restart</div>
        </div>
      </div>
    </div>

    <!-- <div class="center">
      <button class="button-82-pushable" role="button" onclick="clickButton()">
        <span class="button-82-shadow"></span>
        <span class="button-82-edge"></span>
        <span class="button-82-front text"> RELOAD </span>
      </button>
    </div>

    <img src="" alt="You're offline. Check your connection." id="img_1" /> -->


    <script src="https://www.gstatic.com/firebasejs/4.4.0/firebase.js"></script>
    <script src="caro-game.js"></script>

    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyBJYyENfgmKQSQsE8D6W6n_Z1p282ZZc1M",
        authDomain: "fir-pwa-fd3e4.firebaseapp.com",
        projectId: "fir-pwa-fd3e4",
        storageBucket: "fir-pwa-fd3e4.appspot.com",
        messagingSenderId: "696056207587",
        appId: "1:696056207587:web:e2d3f830dff7c703a44dd6",
        measurementId: "G-XYPJ6DTKMK",
      };
      firebase.initializeApp(config);
    </script>

    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("/sw.js").then(function () {
          console.log("Service Worker Registered");
        });
      }
    </script>

    <script>
      const messaging = firebase.messaging();

      messaging
        .requestPermission()
        .then(function () {
          console.log("Notification permission granted.");
          return messaging.getToken();
        })
        .then(function (token) {
          console.log(token);
        })
        .catch(function (err) {
          console.log("Unable to get permission to notify.", err);
        });
    </script>

    <!-- <script>
      function httpGetAsync(url, resolve) {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function () {
          if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
            resolve(xmlHttp);
        };
        xmlHttp.open("GET", url, true);
        xmlHttp.send(null);
      }

      const promise1 = new Promise((resolve, reject) => {
        httpGetAsync("https://picsum.photos/2000/1000", resolve);
      });

      const executeAsync = async () => {
        try {
          const response1 = await promise1;
          document
            .getElementById("img_1")
            .setAttribute("src", response1.responseURL);

        } catch (err) {
          console.log({ err });
        }
      };

      executeAsync();
    </script>
    <script>
      function clickButton() {
        executeAsync();
        document.getElementById("img_1").contentWindow.location.reload(true);
      }
    </script> -->
  </body>
</html>
